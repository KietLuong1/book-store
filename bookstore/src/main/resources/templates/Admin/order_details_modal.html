<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
</head>

<body>
<div class="modal-header">
    <h4 class="modal-title">Order Details</h4>
    <button type="button" class="close" data-dismiss="modal">&times;</button>
</div>

<div>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="overview-tab" data-toggle="tab" href="#overview" role="tab">Overview</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="products-tab" data-toggle="tab" href="#products" role="tab">Products</a>
        </li>
    </ul>

    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active p-3" id="overview" role="tabpanel" aria-labelledby="overview-tab">
            <form th:action="@{/admin-add-order/save}" th:object="${order}" method="post">
                <input type="hidden" th:field="*{address}" th:value="${order.address}" />
                <input type="hidden" th:field="*{user}" th:value="${order.user}" />
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label">Order ID:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{id}" readonly class="form-control" th:value="${order.id}">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label">First name:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{firstName}" readonly class="form-control"
                               th:value="${order.firstName}">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label">Last name:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{lastName}" readonly class="form-control"
                               th:value="${order.lastName}">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label">Product Cost:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{productCost}" readonly class="form-control"
                               th:value="${order.productCost}">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label">Subtotal:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{subtotal}" readonly class="form-control"
                               th:value="${order.subtotal}">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label">Shipping Cost:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{shippingCost}" readonly class="form-control"
                               th:value="${order.shippingCost}">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label">Total:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{total}" readonly class="form-control" th:value="${order.total}">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label">Order date:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{order_date}" readonly class="form-control"
                               th:value="${order.order_date}">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label">Payment Method:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{paymentMethod}" readonly class="form-control"
                               th:value="${order.paymentMethod}">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label">Order status:</label>
                    <div class="col-sm-9">
                        <select th:value="${order.orderStatus}" th:field="*{orderStatus}" id="orderStatus" name="orderStatus" class="form-control">
                            <option value="NEW">NEW</option>
                            <option value="CANCELLED">CANCELLED</option>
                            <option value="SHIPPING">SHIPPING</option>
                            <option value="DELIVERED">DELIVERED</option>
                            <option value="RETURNED">RETURNED</option>
                            <option value="PAID">PAID</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
        <div class="tab-pane fad p-3" id="products" role="tabpanel" aria-labelledby="products-tab">
            <th:block th:each=" orderItem, status: ${order.orderItems}">
                <div class="row border rounded p-1" th:with="book = ${orderItem.book}">
                    <div class="col-sm-1">
                        <div class="div-count" th:text="${status.count}"></div>
                    </div>
                    <div class="col-sm-3"><img th:src="@{${book.book_image}}" class="img-fluid"/></div>
                    <div class="col-sm-8">
                        <div class="text-wrap">
                            <p th:text="${book.name}"></p>
                        </div>
                        <div class="text-wrap">
                            <p class="inline">Product Cost: </p>
                            <div class="inline" th:text="${orderItem.productCost}"/>
                        </div>

                        <div class="text-wrap">
                            <p class="inline">Subtotal: </p>
                            <div class="inline" th:text="${orderItem.quantity}"/>
                            x
                            <div class="inline" th:text="${orderItem.unitPrice}"/>
                            =
                            <div class="inline" th:text="${orderItem.subtotal}"/>
                        </div>

                        <div class="text-wrap">
                            <p class="inline">Shipping Cost: </p>
                            <div class="inline" th:text="${orderItem.shippingCost}"/>
                        </div>
                    </div>
                </div>

            </th:block>

        </div>
    </div>
</div>
<!-- Wrapper END -->

</body>

</html>